{function Comment_List(t){let id=t.getAttribute("data-id");document.getElementById(`post-comments-${id}`).classList.toggle("show-hide")}let createPost=()=>{let newPostForm=$("#new-post-form");newPostForm.submit(e=>{e.preventDefault(),$.ajax({type:"post",url:"/posts/create",data:newPostForm.serialize(),success:data=>{let newPost=newPostDom(data.data.post);$("#post-list").prepend(newPost),deletePost($(".delete-post-button",newPost)),flashMessages({success:data.message})},error:err=>{console.log(err.responseText),flashMessages({error:"Error..!"})}})})},newPostDom=function(post){return $(`<div id="post-${post._id}">\n     <p>\n       <samll>\n         <a class="delete-post-button" href="/posts/destroy/${post._id}">X</a>\n       </samll>\n       ${post.content} : ${post.user.name}\n       <small><a class="like-post" href="likes/toogle?type=Post&id=${post._id}"><span class="post-like-count">${post.likes.length}</span> Likes</a></small>\n     </p>\n     <div class="post-comments">\n\n       <form action="/comment/create" method="post">\n         <input\n           type="text"\n           name="content"\n           placeholder="Type Here To Add Comment.."\n           required\n         />\n         <input type="hidden" name="post" value="${post._id}" />\n         <input type="submit" value="Add Comment" />\n       </form>\n\n       <input\n         type="button"\n         data-id="${post._id}"\n         onclick="Comment_List(this)"\n         value="Comments" />\n\n       <div class="post-comments-list">\n         <ul class="comment show-hide" id="post-comments-${post._id}">\n\n         </ul>\n       </div>\n     </div>\n     \n     </div>`)},deletePost=deleteLink=>{$(deleteLink).click(function(e){e.preventDefault(),$.ajax({type:"get",url:$(deleteLink).prop("href"),success:function(data){$(`#post-${data.data.post_id}`).remove(),flashMessages({success:data.message})},error:function(err){flashMessages({error:"Error..!"}),console.log(err)}})})},likePost=likeLink=>{$(likeLink).click(function(e){e.preventDefault(),$.ajax({type:"get",url:$(likeLink).prop("href"),success:function(data){$(".post-like-count",likeLink).each(function(i,obj){data.deleted?obj.innerText=parseInt(obj.innerText)-1:obj.innerText=parseInt(obj.innerText)+1})},error:function(err){flashMessages({error:"Error..!"}),console.log(err)}})})};$(".like-post").each(function(i,obj){likePost(obj)}),$(".delete-post-button").each(function(i,obj){deletePost(obj)}),createPost()}